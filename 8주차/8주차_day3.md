# [8주차 - Day3] 240417 정리

## 1️⃣ 방금 INSERT했던 데이터의 PK 가져오기

- LAST_INSERT_ID(): 시간차 공격 ➡️ 이전 값을 들고오는 오류가 간간히 발생 (비슷한 시간대에 INSERT된 id를 들고오는 문제 발생 가능성)
  ![8-3-1](../img/8주차_img/8-3-1.png)
- MAX(): 가장 최근에 INSERT된 PK는 무조건 가장 큰 값일 것
  ![8-3-2](../img/8주차_img/8-3-2.png)

- SQL 정리해보기
  ![8-3-3](../img/8주차_img/8-3-3.png)

## 2️⃣ 주문하기 컨트롤러 벌크로 INSERT한 결과

![8-3-4](../img/8주차_img/8-3-4.png)
![8-3-5](../img/8주차_img/8-3-5.png)
![8-3-6](../img/8주차_img/8-3-6.png)
![8-3-7](../img/8주차_img/8-3-7.png)
![8-3-9](../img/8주차_img/8-3-9.png)
